<div class="login-container">
  <div class="login-form">
    <div class="d-flex center">
      <img src="img/logo_0.png" class="logo-login" alt="Uniautonoma" srcset="img/logo_1.png" />
    </div>

    <h1 class="title">Bienvenido UniAutonomo</h1>

    <form [formGroup]="form" (ngSubmit)="onLogin()">
      <div class="login-field">
        <label for="email">E-mail</label>
        <input type="email" id="email" formControlName="email" />
        <div *ngIf="email?.touched && email?.invalid" class="error">
          <small *ngIf="email?.errors?.['required']">El correo es obligatorio.</small>
          <small *ngIf="email?.errors?.['email']">Correo inválido.</small>
        </div>
      </div>

      <div class="login-field">
        <label for="password">Contraseña</label>
        <input type="password" id="password" formControlName="password" />
        <div *ngIf="password?.touched && password?.invalid" class="error">
          <small *ngIf="password?.errors?.['required']">La contraseña es obligatoria.</small>
        </div>
      </div>

      <div class="center">
        <button type="submit" class="input-btn" [disabled]="state === 'LOADING'">Login</button>
      </div>
    </form>

    @if(state === "ERROR"){
      <div class="error center">
        Usuario y/o contraseña son incorrectos
      </div>
    }

    @if(state === "LOADING"){
      <div class="loading center">
        Validando credenciales...
      </div>
    }

    <div class="center">
      <a [routerLink]="['/authentication/forgot-password']" class="a-type-2">Olvidé la contraseña</a>
    </div>
  </div>
</div>
